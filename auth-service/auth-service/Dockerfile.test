# Usamos la imagen más básica posible
FROM alpine:latest

# Establecemos el directorio de trabajo
WORKDIR /app

# ---- PRUEBA DEFINITIVA ----
# Listamos el contenido del contexto de build ANTES de copiar.
# El contexto debería ser la carpeta raíz del proyecto (CRM_2).
# Deberíamos ver la carpeta "auth-service".
RUN echo "--- Contenido del Contexto de Build (Raíz del Proyecto) ---" && ls -l

# Ahora, intentamos copiar el archivo package.json
COPY auth-service/package.json .

# ---- VERIFICACIÓN ----
# Listamos el contenido del directorio de trabajo DESPUÉS de copiar.
# Si el COPY funcionó, aquí deberíamos ver "package.json".
RUN echo "--- Contenido del Directorio de Trabajo (/app) ---" && ls -l

# Intentamos mostrar el contenido del archivo.
# Si este comando falla, el archivo no se copió.
RUN echo "--- Contenido de package.json ---" && cat package.json
